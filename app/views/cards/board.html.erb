<div class="banner">
  <span id="user">user profile</span>
  <span id="add_card"><button>add card</button></span>
</div>
<div class="country_info">
  <div class="country">
    <h2><%= @country.name %></h2>
    <img src="https://s-media-cache-ak0.pinimg.com/236x/05/77/c8/0577c800b879b8b5affdbb2df364e24c.jpg">
  </div>
  <div class="emergency">
    <h3><font color="red"> emergency contact </font></h3>
    <p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book</p>
  </div>
  <div class="currency_weather">
    <div class="currency">
      <h3>Currency Api</h3>
      <div id="default_currency"><%= @base%></div> ==> 
      <div id="dest_currency"><%= @dest %></div>
    </div>
      <img src="https://s-media-cache-ak0.pinimg.com/236x/05/77/c8/0577c800b879b8b5affdbb2df364e24c.jpg">
    <h3>Weather Api</h3>
  </div>
</div>

<h1> Board </h1>
  <!-- Sort by:
  <% @tags.each do |tag| %>
    <span data-tag-id="<%=tag.id%>" class="tags">#<%= tag.name%></span>
  <% end %> -->

  Sort by:
  <% @tags.each do |tag| %>
    <!-- <span data-tag-name="<%=tag.name%>" class="tags">#<%= tag.name%></span> -->
    <span><a href="/cards/show?id=<%= tag.id %>"><%= tag.name%></a></span>
  <% end %>

<br>
<br>
<div class="body">
  <% @cards.each do |card| %>
    <% tags = []%>
    <% card.tags.each do |tag| %>
      <% tags.push(tag) %>
    <%end%>
    <% classnames = tags.join(" ") %>
      <div class="card <%= classnames%>">
        <h2><%= card.title %></h2>
        <!-- remember to fix card size and image size -->
        <span><img src="<%= card.image %>" height="150" width="150"></span>
        <!-- <span id="img"><img src="/images/default.jpg" height="42" width="42"></span> -->
        <p><a href="<%= card.source %>">Link</a></p>
        <% card.tags.each do |cardtag| %>
          <span class="tag"><%= cardtag.name %></span>
        <% end %>
      </div>

  <%  end %>
</div>

<!-- temporary, will be moved into jS file -->
<script>

  $('.tags').on('click',function(event){
    event.preventDefault();
    var tagName = $(this).data('tag-name');
    console.log(tagName);
    



  });

  // currency exchange API
  var base = $('#default_currency').html();
  var dest = $('#dest_currency').html();
  if(base === dest) {
    var $newElem = $('<div>').html("1.00");
    $('.currency').append($newElem);
  } else {
    $.ajax({
      url: 'http://api.fixer.io/latest',
      data: {base: base, symbols: dest }
    }).done(function(response){
      console.log(response);
      var currency = response.rates[dest];
      var $newElem = $('<div>').html(currency);
      $('.currency').append($newElem);
    });
  }

</script>
<!-- temporary, will be moved into css file -->
<style>
.currency_weather{
    padding-left: 40px;
    display:inline-block;
    width: 30%;
}

.country_info{
  padding: 0;
  margin: 0;
  border-bottom: solid 3px;
}
.emergency{
  margin: 0;
  width: 30%;
  display: inline-block;
  margin: 0px;
}
.country{
  width: 30%;
  display: inline-block;
}
.banner{
  background-color: grey;
  width: 100%;
  height: 40px;
}

.body {
  margin: 0;
  padding: 5px 5px;
}
.card {
  float: left;
  margin: 0 0 10px 10px;
  border: 2px solid red;
  padding: 40px 80px;
}
.card #img {
  text-align: center;
}
#user {
  float: left;
}

#add_card {
  float: right;
}
</style>
